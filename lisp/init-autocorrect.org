#+BEGIN_SRC emacs-lisp
  (load-file "/home/joshua/programming/emacs/autocorrect/autocorrect.el")
#+END_SRC

#+BEGIN_SRC emacs-lisp
(provide 'init-autocorrect)
#+END_SRC

* COMMENT My autocorrect word

Modify post-self-insert-hook to run "flyspell-auto-correct-word", if the character is SPC

#+BEGIN_SRC emacs-lisp
(defun my/flyspell-auto-correct-word ()
  "If the last entered character is SPC, then run flyspell-auto-correct-word on the last word "
  (interactive)
  (let (previousChar nextChar)
    ;; get the char before point.  If you have just pressed the space bar, then the char before point is SPC.
    ;; if you have just pressed "h", then the char before point is "h".
    (setq previousChar
          (substring (buffer-substring (- (point) 1) (point)) 0))
    (setq nextChar
          (substring (buffer-substring (point) (+ 1 (point))) 0))
    (when (string= previousChar " ")
      (flyspell-auto-correct-word)
      (if (string= nextChar "\n")
          (insert " ")
        (forward-char)))))
#+END_SRC

For the moment my auto correct word is not working. I am going to fix it soon.

#+BEGIN_SRC emacs-lisp
(defun add-my-flyspell-auto-correct-word ()
  "This function adds my/flyspell-auto-correct-word function to be run after post-self-insert-hook."
  (interactive)
  (add-hook 'post-self-insert-hook 'my/flyspell-auto-correct-word))

(defun remove-my-flyspell-auto-correct-word ()
  "This function adds my/flyspell-auto-correct-word function to be run after post-self-insert-hook."
  (interactive)
  (remove-hook 'post-self-insert-hook 'my/flyspell-auto-correct-word))
#+END_SRC


Turn on autocorrect last word for all of my text modes.
it might be a bad idea to turn it on for programming modes.  If you have a variable named "becuase", it'll keep correcting it.

#+BEGIN_SRC emacs-lisp
(add-hook 'text-mode-hook #'add-my-flyspell-auto-correct-word)
(add-hook 'programming-mode-hook #'remove-my-flyspell-auto-correct-word)
#+END_SRC


#+BEGIN_SRC emacs-lisp
(provide 'init-autocorrect)
#+END_SRC
